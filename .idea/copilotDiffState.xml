<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/de/jaimerojas/clickup/model/ClickUpTaskIconHolder.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/de/jaimerojas/clickup/model/ClickUpTaskIconHolder.java" />
              <option name="originalContent" value="package de.jaimerojas.clickup.model;&#10;&#10;import com.intellij.openapi.diagnostic.Logger;&#10;import com.intellij.util.SVGLoader;&#10;import com.intellij.util.ui.ImageUtil;&#10;&#10;import java.awt.Graphics2D;&#10;import java.awt.RenderingHints;&#10;import java.awt.image.BufferedImage;&#10;import java.net.URL;&#10;&#10;public class ClickUpTaskIconHolder {&#10;    private static final int ICON_WIDTH = 8;&#10;    private static final int ICON_HEIGHT = 8;&#10;&#10;    // Load via resource URL (SVGLoader works with URLs) and rasterize to a small BufferedImage&#10;    public static final BufferedImage clickUpIcon = SvgImageLoader.loadSvg(&#10;            ClickUpTaskIconHolder.class.getResource(&quot;/icons/logo-v3-clickup-symbol-only.svg&quot;),&#10;            ICON_WIDTH,&#10;            ICON_HEIGHT&#10;    );&#10;&#10;    private static class SvgImageLoader {&#10;        // Use this class for logging context related to icon loading&#10;        private static final Logger LOG = Logger.getInstance(ClickUpTaskIconHolder.class);&#10;&#10;        /**&#10;         * Reads an SVG resource URL and returns a BufferedImage sized to (width x height).&#10;         * The SVG is rendered at a higher internal resolution and then downscaled with&#10;         * bicubic interpolation to avoid pixelation on small icons.&#10;         */&#10;        @SuppressWarnings(&quot;UnstableApiUsage&quot;)&#10;        public static BufferedImage loadSvg(URL svgUrl, int width, int height) {&#10;            if (svgUrl == null) {&#10;                LOG.warn(&quot;SVG resource URL is null&quot;);&#10;                return ImageUtil.createImage(ICON_WIDTH, ICON_HEIGHT, BufferedImage.TYPE_INT_ARGB);&#10;            }&#10;&#10;            try {&#10;                // Render at a larger internal resolution, then downscale for a crisp result.&#10;                final float scale = 3f; // try 2..4 depending on quality/size tradeoff&#10;&#10;                // SVGLoader returns an Image; convert to BufferedImage for further processing&#10;                java.awt.Image hiResImage = SVGLoader.load(svgUrl, scale);&#10;                BufferedImage hiRes = ImageUtil.toBufferedImage(hiResImage);&#10;&#10;                // Downscale with high-quality rendering hints into the final target size&#10;                BufferedImage finalImage = ImageUtil.createImage(width, height, BufferedImage.TYPE_INT_ARGB);&#10;                Graphics2D g = finalImage.createGraphics();&#10;                try {&#10;                    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);&#10;                    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);&#10;                    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);&#10;                    g.drawImage(hiRes, 0, 0, width, height, null);&#10;                } finally {&#10;                    g.dispose();&#10;                }&#10;                return finalImage;&#10;            } catch (Exception e) {&#10;                LOG.warn(&quot;Could not load SVG image&quot;, e);&#10;                return ImageUtil.createImage(ICON_WIDTH, ICON_HEIGHT, BufferedImage.TYPE_INT_ARGB);&#10;            }&#10;        }&#10;    }&#10;&#10;}&#10;" />
              <option name="updatedContent" value="package de.jaimerojas.clickup.model;&#10;&#10;import com.intellij.openapi.diagnostic.Logger;&#10;import com.intellij.util.SVGLoader;&#10;import com.intellij.util.ui.ImageUtil;&#10;&#10;import java.awt.Graphics2D;&#10;import java.awt.RenderingHints;&#10;import java.awt.image.BufferedImage;&#10;import java.net.URL;&#10;&#10;public class ClickUpTaskIconHolder {&#10;    private static final int ICON_WIDTH = 8;&#10;    private static final int ICON_HEIGHT = 8;&#10;&#10;    // Load via resource URL (SVGLoader works with URLs) and rasterize to a small BufferedImage&#10;    public static final BufferedImage clickUpIcon = SvgImageLoader.loadSvg(&#10;            ClickUpTaskIconHolder.class.getResource(&quot;/icons/logo-v3-clickup-symbol-only.svg&quot;),&#10;            ICON_WIDTH,&#10;            ICON_HEIGHT&#10;    );&#10;&#10;    private static class SvgImageLoader {&#10;        // Use this class for logging context related to icon loading&#10;        private static final Logger LOG = Logger.getInstance(ClickUpTaskIconHolder.class);&#10;&#10;        /**&#10;         * Reads an SVG resource URL and returns a BufferedImage sized to (width x height).&#10;         * The SVG is rendered at a higher internal resolution and then downscaled with&#10;         * bicubic interpolation to avoid pixelation on small icons.&#10;         */&#10;        @SuppressWarnings(&quot;UnstableApiUsage&quot;)&#10;        public static BufferedImage loadSvg(URL svgUrl, int width, int height) {&#10;            if (svgUrl == null) {&#10;                LOG.warn(&quot;SVG resource URL is null&quot;);&#10;                return ImageUtil.createImage(ICON_WIDTH, ICON_HEIGHT, BufferedImage.TYPE_INT_ARGB);&#10;            }&#10;&#10;            try {&#10;                // Render at a larger internal resolution, then downscale for a crisp result.&#10;                final float scale = 3f; // try 2..4 depending on quality/size tradeoff&#10;&#10;                // SVGLoader returns an Image; convert to BufferedImage for further processing&#10;                java.awt.Image hiResImage = SVGLoader.load(svgUrl, scale);&#10;                BufferedImage hiRes = ImageUtil.toBufferedImage(hiResImage);&#10;&#10;                // Downscale with high-quality rendering hints into the final target size&#10;                BufferedImage finalImage = ImageUtil.createImage(width, height, BufferedImage.TYPE_INT_ARGB);&#10;                Graphics2D g = finalImage.createGraphics();&#10;                try {&#10;                    g.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_BICUBIC);&#10;                    g.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);&#10;                    g.setRenderingHint(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY);&#10;                    g.drawImage(hiRes, 0, 0, width, height, null);&#10;                } finally {&#10;                    g.dispose();&#10;                }&#10;                return finalImage;&#10;            } catch (Exception e) {&#10;                LOG.warn(&quot;Could not load SVG image&quot;, e);&#10;                return ImageUtil.createImage(ICON_WIDTH, ICON_HEIGHT, BufferedImage.TYPE_INT_ARGB);&#10;            }&#10;        }&#10;    }&#10;&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>